<?xml version="1.0"?>
<!--
  Minimal MAVLink 2 dialect for "my‑robot"
  (compact dialect with only needed messages)

  Keeps: HEARTBEAT, HIGHRES_IMU, GPS, BATTERY_STATUS, RADIO_STATUS, etc.
  Adds : VL53L7CX range array & meta, absolute wheel encoders.

  * Message‑ID range 42000+ is reserved for project‑specific packets.
  * version = 2 (MAVLink v2 framing, start byte 0xFD).
  * ASCII only to avoid Windows encoding issues.
-->
<mavlink>
  <!-- Pull in baseline common messages -->
  <include>common.xml</include>
  <version>2</version>

  <messages>
    <!-- full 8×8 range map (128 B) fits comfortably in one MAVLink‑2 frame -->
    <message id="42001" name="TOF_L7CX_RANGES">
      <description>8×8 zone distances from VL53L7CX in millimetres.</description>
      <field type="uint64_t" name="time_us" units="us"/>
      <field type="uint16_t[64]" name="range_mm" units="mm"/>
    </message>

    <!-- optional meta‑data block: status + signal strength per zone -->
    <message id="42002" name="TOF_L7CX_META">
      <description>Status (0 = valid) and signal strength for each VL53L7CX zone.</description>
      <field type="uint64_t" name="time_us" units="us"/>
      <field type="uint8_t[64]"  name="status"/>
      <field type="uint16_t[64]" name="signal" units="kcps"/>
    </message>

    <!-- signed wheel-tick counters + absolute CAM position -->
    <message id="42003" name="WHEEL_ENCODERS">
      <description>Cumulative wheel ticks (CW = +, CCW = –) and the absolute 12-bit
      AS5600 CAM position used by the jumping mechanism.</description>

      <field type="uint64_t" name="time_us"     units="us"/>
      <field type="int32_t"  name="left_ticks"  units="ticks"/>
      <field type="int32_t"  name="right_ticks" units="ticks"/>
      <field type="uint16_t" name="cam_pos"     units="raw12"/>
    </message>
  </messages>
</mavlink>

